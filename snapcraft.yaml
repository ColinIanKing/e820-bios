name: e820-bios
version: git
version-script: |
    echo $(git describe --tags)
summary: A tool to dump BIOS e820 memory map
description: e820-bios calls into legacy BIOS interrupt 0x15 to get e820 memory map information
confinement: strict
grade: stable

architectures:
    - amd64
    - i386

parts:
    e820-bios:
        plugin: make
        source: https://github.com/ColinIanKing/e820-bios.git

        build-packages:
            - gcc
            - make
            - libx86-dev
        stage-packages:
            - libx86-dev

        prime:
            - usr/bin/

apps:
    e820-bios:
        plugs: [hardware-observe, system-observe]
        command: usr/bin/e820-bios
